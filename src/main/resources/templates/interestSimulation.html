<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<html xmlns:th="http://www.thymeleaf.org">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
    <meta name="author" content="AdminKit">
    <meta name="keywords"
          content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="shortcut icon" href="/img/icons/icon-48x48.png"/>

    <link rel="canonical" href="https://demo-basic.adminkit.io/pages-profile.html"/>

    <title>금리 특약 예상 서비스</title>

    <link href="/css/app.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

</head>
<style>

    #search-suggestions {
        display: none;
        position: absolute;
        color:black;
        width: 80%;
        background-color: #fff;
        border: 1px solid #ccc;
        max-height: 150px;
        overflow-y: auto;
        margin-top: 5px;
        z-index: 1;
    }

    .suggestion {
        padding: 8px;
        cursor: pointer;
    }

    .suggestion:hover {
        background-color: #f0f0f0;
    }
    /*.input-container {*/
    /*    margin-bottom: 10px;*/
    /*}*/

    /*.input-container {*/
    /*    display: flex;*/
    /*    align-items: center; !* 세로 중앙 정렬 (가 필요에 따라 사용) *!*/
    /*}*/

    .input-container label {
        margin-right: 10px; /* 레이블과 입력 요소 사이의 간격 조절 */
    }
    td.other{
        background-color:#D2E4FC !important;
    }

    /*table {*/
    /*    border-collapse: collapse;*/

    /*}*/

    th, td {
        border: 1px solid #ddd !important;
        text-align: left;
        padding: 8px;
    }

    .input-container {
        display: flex;
        align-items: center; /* 수직 가운데 정렬, 필요에 따라 조절 가능 */
    }

    .input-container label {
        margin-right: 10px; /* 라벨과 인풋 사이의 간격, 필요에 따라 조절 가능 */
    }

    .input-container input {
        /* 원하는 스타일을 적용하세요 */
        width: 150px;
        height: 10px;
    }

    #search-input{
        width : 155px !important;
        height:27px !important;
    }

    /*th:nth-child(1){*/
    /*    width: 15%;*/
    /*    text-align: center;*/
    /*    background-color: #2E9AFE;*/
    /*    color: white;*/
    /*    padding: 8px;*/

    /*}*/
    /*td:nth-child(1) {*/
    /*    width: 15%;*/
    /*    text-align: center;*/
    /*    background-color: #f0f0f0;*/
    /*}*/

    /*th:nth-child(2){*/
    /*    width: 35%;*/
    /*    text-align: center;*/
    /*    background-color: #2E9AFE;*/
    /*    color: white;*/
    /*    padding: 8px;*/
    /*}*/

    /*td:nth-child(2) {*/
    /*    width: 35%;*/
    /*}*/

    /*th:nth-child(3){*/
    /*    width: 27%;*/
    /*    text-align: center;*/
    /*    background-color: #2E9AFE;*/
    /*    color: white;*/
    /*    padding: 8px;*/
    /*}*/
    /*td:nth-child(3) {*/
    /*    width: 27%;*/
    /*    text-align: center;         }*/

    /*th:nth-child(4){*/
    /*    width: 25%;*/
    /*    text-align: center;*/
    /*    background-color: #2E9AFE;*/
    /*    color: white;*/
    /*    padding: 8px;*/
    /*}*/
    /*td:nth-child(4) {*/
    /*    width: 25%;*/
    /*    text-align: center;*/
    /*}*/

    th{
        color:black !important;

    }

    table {
        margin-left: auto;
        margin-right: auto;
    }

    h1 {
        text-align: center;
    }

    .rate {
        display: block;
        margin: 20px auto;
        padding: 15px 30px;
        font-size: 16px;
        background-color: #2E9AFE;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 5px;
    }

    #tableContainer {
        position: relative;
    }

    .tg td{background-color:white;border-bottom-width:1px;border-color:#9ABAD9;border-style:solid;border-top-width:1px;
        border-width:0px;border-right: 1px solid #ddd;color:#444;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;
        word-break:normal;}
    .tg th{background-color:#e9edf2;border-bottom-width:1px;border-color:#9ABAD9;border-style:solid;border-top-width:1px;
        border-width:0px;color:#fff;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;overflow:hidden;
        padding:10px 5px;word-break:normal;}
    .tg .tg-hmp3{background-color:#D2E4FC;text-align:left;vertical-align:top}
    .tg .tg-0lax{text-align:left;vertical-align:top}



    .tg td {
        border-right: 1px solid #ddd; /* 구분선 스타일 및 색상 지정 */
    }

    /* 마지막 td 엘리먼트의 구분선을 제거 */
    .tg td:last-child {
        border-right: none;
    }

    .tg {
        border-collapse: collapse;
        width: 100%;
    }

    /* 테이블 헤더 스타일 */
    /*.tg th {*/
    /*    border: 1px solid #ddd;*/
    /*    padding: 8px;*/
    /*    text-align: left;*/
    /*    background-color: #f2f2f2; !* 헤더 배경색 *!*/
    /*}*/

    /* 테이블 데이터 셀 스타일 */
    .tg td {
        border: 1px solid #ddd;
        padding: 8px;
    }

    /* 마지막 열 제외한 모든 데이터 셀 우측에 구분선 추가 */
    .tg td:not(:last-child) {
        border-right: 1px solid #ddd;
    }

    /* 각 행에 대해 홀수 번째 행 배경색 변경 */
    .tg tr:nth-child(odd) {
        background-color: #f9f9f9; /* 홀수 번째 행 배경색 */
    }

    input {
        width: 300px; /* 원하는 폭으로 조절 */
        height: 5px !important; /* 원하는 높이로 조절 */
    }





    /* 결과를 표시할 div를 표 오른쪽 아래에 위치하도록 조정 */
    #resultContainer {
        position: absolute;
        top: 85%;
        right: 0;
        margin-top: 10px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background-color: #f9f9f9;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* 결과 문구 스타일 */
    #resultText {
        font-weight: bold;
        color: #333;
    }

    .sidebar-nav input,
    .sidebar-nav button,
    .sidebar-nav a {
        font-size: 14px; /* 원하는 크기로 조절 */
    }

    .sidebar-item i {
        font-size: 16px; /* 아이콘 크기 조절 */
    }

    select {
        font-size: 18px; /* 원하는 크기로 조절 */
    }


    #search-suggestions {
        display: none;
        position: absolute;
        color:black;
        width: 80%;
        background-color: #fff;
        border: 1px solid #ccc;
        max-height: 150px;
        overflow-y: auto;
        margin-top: 5px;
        z-index: 1;
    }

    .suggestion {
        padding: 8px;
        cursor: pointer;
    }

    .suggestion:hover {
        background-color: #f0f0f0;
    }

</style>
<body>
<div class="wrapper">
    <nav id="sidebar" class="sidebar js-sidebar">
        <div class="sidebar-content js-simplebar">
            <a class="sidebar-brand" href="/">
                <span class="align-middle">어디까지 알아보고 오셨어요?</span>
            </a>

            <ul class="sidebar-nav">
                <li class="sidebar-link">
                    <input class="align-middle" id="search-input" style="width:155px;" type="text" placeholder="매물을 검색하세요">
                    <button class="align-middle" type="button" style="display:inline">검색</button>
                    <div id="search-suggestions"></div>
                </li>

                <li class="sidebar-item">
                    <a class="sidebar-link" href="/profile">
                        <i class="align-middle" data-feather="user"></i> <span class="align-middle">회원정보</span>
                    </a>
                </li>

                <!--                <li class="sidebar-item">-->
                <!--                    <a class="sidebar-link" href="/login">-->
                <!--                        <i class="align-middle" data-feather="log-in"></i> <span class="align-middle">로그인</span>-->
                <!--                    </a>-->
                <!--                </li>-->

                <!--                <li class="sidebar-item">-->
                <!--                    <a class="sidebar-link" href="/signup">-->
                <!--                        <i class="align-middle" data-feather="user-plus"></i> <span class="align-middle">회원가입</span>-->
                <!--                    </a>-->
                <!--                </li>-->

<!--                <li class="sidebar-item">-->
<!--                    <a class="sidebar-link" href="/checklist">-->
<!--                        <i class="align-middle" data-feather="check-square"></i> <span class="align-middle">체크리스트</span>-->
<!--                    </a>-->
<!--                </li>-->

            </ul>
        </div>
    </nav>

    <div class="main">
        <nav class="navbar navbar-expand navbar-light navbar-bg">
            <a class="sidebar-toggle js-sidebar-toggle">
                <i class="hamburger align-self-center"></i>
            </a>

            <div class="navbar-collapse collapse">
                <ul class="navbar-nav navbar-align">
                    <li class="nav-item dropdown">
                        <a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
                            <i class="align-middle" data-feather="settings"></i>
                        </a>
                        <a class="nav-link dropdown-toggle d-none d-sm-inline-block" href="#" data-bs-toggle="dropdown">
                            <img src="/img/avatars/avatar.jpg" class="avatar img-fluid rounded me-1" alt="Shine-J" /> <span class="text-dark">Shine-J</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a class="dropdown-item" href="/profile"><i class="align-middle me-1" data-feather="user"></i> Profile</a>
                            <a class="dropdown-item" href="#">Log out</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <main class="content">
            <div class="container-fluid p-0">

                <!--금리특약 시뮬레이션 관련 코드-->
                <h1 onclick="refreshPage()">금리특약 어디까지 알아보셨어요?</h1>

                <div id="tableContainer">
                    <form id="surveyForm">

                        <table class="tg">

                            <tr>
                                <th>교차판매항목</th>
                                <th>우대 기준</th>
                                <th>답변</th>
                                <th>결과</th>
                            </tr>

                            <tr>
                                <td class="other">신용(체크)카드 결제실적</td>
                                <td>
                                    전전월부터 전월 중 결제실적이 100만원 이상이십니까?
                                    <br><small style="color:red">1. 당행결제계좌에 한하며 이용대금이 본인의 계좌에서 출금되는 시점을 기준으로 인정함
                                    <br>2. 국내외 현금서비스 연회비 및 수수료 제외</small>
                                </td>
                                <td>
                                    <div class="input-container">
                                        <label class="form-label">전전월 신용(체크)카드 결제실적</label>
                                        <input class="form-control form-control-lg" type="text" id="answer1A"/>

                                    </div>
                                    <br>
                                    <div class="input-container">
                                        <label class="form-label">전월 신용(체크)카드 결제실적</label>
                                        <input class="form-control form-control-lg" type="text" id="answer1B"/>
                                    </div>
                                </td>

                                <td id="result1">
                                    <!-- 결과를 표시할 div 엘리먼트 추가 -->
                                    <div id="resultContainer1"></div>
                                </td>
                            </tr>

                            <tr>
                                <td class="other">급여(연금)이체</td>
                                <td>
                                    전전월부터 전월 중 급여이체 100만원 이상 혹은 6대 연금이체 60만원 이상이십니까?
                                    <br><small style="color:red">*6대 연금은 국민, 공무원, 군인, 사학, 보훈, 장해연금에 한함</small>
                                </td>
                                <td>
                                    <div class="input-container">
                                        <label class="form-label">전전월 급여 혹은 연금실적</label>
                                        <input class="form-control form-control-lg" type="text" id="answer2A" placeholder="급여"/>
                                        <input class="form-control form-control-lg" type="text" id="answer2C" placeholder="연금"/>
                                        </div>
                                        <br>
                                    <div class="input-container">
                                        <label class="form-label">전월 급여 혹은 연금실적</label>
                                        <input class="form-control form-control-lg" type="text" id="answer2B" placeholder="급여"/>
                                        <input class="form-control form-control-lg" type="text" id="answer2D" placeholder="연금"/>
                                    </div>
                                    <br>
                                    <small style="color: red;">*급여, 연금 중 하나만 입력가능</small>
                                </td>
                                <td id="result2"></td>
                            </tr>

                            <tr>
                                <td class="other"> 적립식 예금</td>
                                <td>
                                    전전월부터 전월 중 10만원 이상 입금 실적이 1건 이상이십니까?
                                    <br><small style="color:red">*주택청약종합저축계좌는 제외</small>
                                </td>
                                <td>
                                    <div class="input-container">
                                        <label class="form-label">전전월 적금 입금 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer3A"/>
                                    </div>
                                    <br>
                                    <div class="input-container">
                                        <label class="form-label">전월 적금 입금 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer3B"/>
                                    </div>
                                </td>
                                <td id="result3"></td>
                            </tr>

                            <tr>
                                <td class="other">제세공과금 자동이체</td>
                                <td>
                                    전전전월부터 전월 중 제세공과금 등 자동이체가 3건 이상이십니까?
                                    <br><small style="color:red">1. 매월 자동납부하는 아파트 관리비, 도시가스요금, 전기료, 전화료 등이 실적인정
                                    <br>2. 신용(체크)카드 이용대금의 자동이체 출금은 인정되지 않음</small>
                                </td>
                                <td>
                                    <div class="input-container">
                                        <label class="form-label">전전월 공과금 자동이체 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer4A"/>
                                        </div>
                                        <br>
                                    <div class="input-container">
                                        <label class="form-label">전월 공과금 자동이체 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer4B"/>
                                    </div>
                                </td>
                                <td id="result4"></td>
                            </tr>

                            <tr>
                                <td class="other">주택청약종합저축</td>
                                <td>
                                    전전월부터 전월 중 입금 실적이 1건 이상이십니까?
                                </td>
                                <td>
                                    <div class="input-container">
                                        <label class="form-label">전전월 청약 입금 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer5A"/>
                                        </div>
                                        <br>
                                    <div class="input-container">
                                        <label class="form-label">전월 청약 입금 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer5B"/>
                                    </div>
                                </td>
                                <td id="result5"></td>
                            </tr>

                            <tr>
                                <td class="other">스마트뱅킹</td>
                                <td>
                                    전월 스마트뱅킹을 통한 이체가 2건 이상이십니까?
                                </td>
                                <td>
                                    <div class="input-container">
                                        <label class="form-label">전월 이체 건수</label>
                                        <input class="form-control form-control-lg" type="text" id="answer6A"/>
                                    </div>
                                </td>
                                <td id="result6"></td>
                            </tr>

                            <tr>
                                <td class="other">개인종합자산관리계좌</td>
                                <td>
                                    전월말 기준 개인종합자산관리계좌(ISA)를 보유하고 계십니까?
                                </td>
                                <td>
                                    <select id="question7" name="question7">
                                        <option value="nothing">선택</option>
                                        <option value="yes">O</option>
                                        <option value="no">X</option>
                                    </select>
                                </td>
                                <td id="result7"></td>
                            </tr>
                        </table>

                        <div id="resultContainer" class="input-container"></div>

                        <small style="color: red;">*"실적제공 동의서"를 작성한 대출고객의 배우자, 부모, 자녀가 기준에 적합하는 경우에도 인정가능
                        </small>

                        <!-- 결과 출력 및 버튼 -->
                        <div class="input-container" style="margin-top: 20px;">
                            <button type="button" class="rate" onclick="calculateScore()">감면가능 금리 조회하기</button>
                        </div>

                    </form>

                    <script>
                        function calculateScore() {
                            let score = 0;


                            // 첫 번째 질문
                            let answer1A = parseInt(document.getElementById("answer1A").value) || 0;
                            let answer1B = parseInt(document.getElementById("answer1B").value) || 0;

                            if (answer1A + answer1B >= 1000000) {
                                score += 0.2;
                                document.getElementById("result1").innerHTML = "다음 다음 달부터 0.2% 금리 감면 가능합니다.";
                            }

                            // 두 번째 질문
                            let answer2A = parseInt(document.getElementById("answer2A").value) || 0;
                            let answer2B = parseInt(document.getElementById("answer2B").value) || 0;
                            let answer2C = parseInt(document.getElementById("answer2C").value) || 0;
                            let answer2D = parseInt(document.getElementById("answer2D").value) || 0;

                            if (answer2A + answer2B >= 1000000 || answer2C + answer2D >= 600000) {
                                score += 0.2;
                                document.getElementById("result2").innerHTML = "다음 다음 달부터 0.2% 금리 감면 가능합니다.";
                            }

                            // 세 번째 질문
                            let answer3A = parseInt(document.getElementById("answer3A").value) || 0;
                            let answer3B = parseInt(document.getElementById("answer3B").value) || 0;

                            if (answer3A + answer3B >= 1) {
                                score += 0.1;
                                document.getElementById("result3").innerHTML = "다음 다음 달부터 0.1% 금리 감면 가능합니다.";
                            }

                            // 네 번째 질문
                            let answer4A = parseInt(document.getElementById("answer4A").value) || 0;
                            let answer4B = parseInt(document.getElementById("answer4B").value) || 0;

                            if (answer4A + answer4B >= 3) {
                                score += 0.1;
                                document.getElementById("result4").innerHTML = "다음 다음 달부터 0.1% 금리 감면 가능합니다.";
                            }

                            // 다섯 번재 질문
                            let answer5A = parseInt(document.getElementById("answer5A").value) || 0;
                            let answer5B = parseInt(document.getElementById("answer5B").value) || 0;

                            if (answer5A + answer5B >= 1) {
                                score += 0.2;
                                document.getElementById("result5").innerHTML = "다음 다음 달부터 0.2% 금리 감면 가능합니다.";
                            }

                            // 여섯 번째 질문
                            let answer6A = parseInt(document.getElementById("answer6A").value) || 0;

                            if (answer6A  >= 2) {
                                score += 0.1;
                                document.getElementById("result6").innerHTML = "다음 다음 달부터 0.1% 금리 감면 가능합니다.";
                            }

                            // 일곱 번째 질문
                            let answer7 = document.getElementById("question7").value;

                            if (answer7 === "yes") {
                                score += 0.1;
                                document.getElementById("result7").innerHTML = "다음 다음 달부터 0.1% 금리 감면 가능합니다.";
                            }
                            else {
                                var result7Element = document.getElementById("result7");
                                result7Element.innerHTML = '<a href="https://mybank.ibk.co.kr/uib/jsp/index.jsp" target="_blank">ISA계좌 개설하기!</a>';
                            }

                            // 감면가능 최고 금리
                            if (score > 0.8) {
                                score = 0.8;
                            }

                            // 결과값 반올림
                            score = Math.round(score * 10) / 10;

                            // 결과 출력
                            let resultContainer = document.getElementById("resultContainer");
                            resultContainer.innerHTML = "고객님께서 받으실 수 있는 최고 감면한도는 " + score + "점입니다.";
                        }


                        function refreshPage() {
                            // 제목 클릭 시 페이지 새로고침
                            window.location.href = window.location.href;
                        }

                    </script>




                </div>
    </div>


</div>
</div>



</main>

<footer class="footer">
    <div class="container-fluid">
        <div class="row text-muted">
            <div class="col-6 text-start">
                <p class="mb-0">
                    <a class="text-muted" href="https://adminkit.io/" target="_blank"><strong>AdminKit</strong></a>
                    &copy;
                </p>
            </div>
            <div class="col-6 text-end">
                <ul class="list-inline">
                    <li class="list-inline-item">
                        <a class="text-muted" href="https://adminkit.io/" target="_blank">Support</a>
                    </li>
                    <li class="list-inline-item">
                        <a class="text-muted" href="https://adminkit.io/" target="_blank">Help Center</a>
                    </li>
                    <li class="list-inline-item">
                        <a class="text-muted" href="https://adminkit.io/" target="_blank">Privacy</a>
                    </li>
                    <li class="list-inline-item">
                        <a class="text-muted" href="https://adminkit.io/" target="_blank">Terms</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

<script src="/js/app.js"></script>
<script>
    // 가상의 검색어 데이터 (실제로는 서버에서 가져와야 함)
    const searchSuggestions = ["JavaScript", "HTML", "CSS", "React", "Vue", "Angular"];

    const searchInput = document.getElementById('search-input');
    const searchSuggestionsContainer = document.getElementById('search-suggestions');

    // 검색어 입력 시 자동 완성 기능 활성화
    searchInput.addEventListener('input', function () {
        const inputValue = this.value.toLowerCase();

        // 검색어 추천 목록 생성
        const suggestions = searchSuggestions.filter(suggestion =>
            suggestion.toLowerCase().startsWith(inputValue)
        );

        // 검색어 추천 목록을 화면에 표시
        showSuggestions(suggestions);
    });

    // 검색어 추천 목록을 화면에 표시하는 함수
    function showSuggestions(suggestions) {
        if (suggestions.length === 0) {
            searchSuggestionsContainer.style.display = 'none';
            return;
        }

        // 검색어 추천 목록을 생성하여 화면에 표시
        searchSuggestionsContainer.innerHTML = '';
        suggestions.forEach(suggestion => {
            const suggestionElement = document.createElement('div');
            suggestionElement.classList.add('suggestion');
            suggestionElement.textContent = suggestion;
            suggestionElement.addEventListener('click', function () {
                // 검색어를 클릭하면 해당 검색어를 검색창에 채우고 추천 목록 숨김
                searchInput.value = suggestion;
                searchSuggestionsContainer.style.display = 'none';
            });
            searchSuggestionsContainer.appendChild(suggestionElement);
        });

        // 검색어 추천 목록을 보이도록 설정
        searchSuggestionsContainer.style.display = 'block';
    }

    // 화면을 클릭하면 검색어 추천 목록을 숨김
    document.addEventListener('click', function (event) {
        if (!searchSuggestionsContainer.contains(event.target) && event.target !== searchInput) {
            searchSuggestionsContainer.style.display = 'none';
        }
    });
</script>


</body>

</html>
